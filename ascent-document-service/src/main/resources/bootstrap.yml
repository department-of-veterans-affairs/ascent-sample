spring: 
  application: 
    name: "@project.name@"
  config: 
    name: "@project.name@"
  cloud:
    config:
      discovery:
        enabled: true
        serviceId: ascent-config
      failFast: true
      label: development
      username: ${ascent.config.username:admin}
      password: ${ascent.config.password:default}
      retry:
        initialInterval: 3000
        maxInterval: 5000
        multiplier: 1.2
        maxAttempts: 20
      token: ${VAULT_TOKEN:vaultroot}
eureka:
  client:
    #false by default in local dev mode
    enabled: false
  instance: 
    leaseRenewalIntervalInSeconds: 10
    leaseExpirationDurationInSeconds: 30
    metadata-map: 
      version:  "@project.version@"
      artifact: "@project.artifactId@"
      name: "@project.name@"
      description: "@project.description@"
      appType: REST-API

---
spring:
  profiles: default
  cloud:
    config:
      discovery:
        enabled: false
      failFast: false
      
---
spring:
  profiles: local-int
eureka:
  client:
    enabled: true
    serviceUrl:
      defaultZone: http://${ascent.discovery.username:eureka}:${ascent.discovery.password:default}@localhost:${discovery.server.port:8761}/eureka/
  instance:
    hostname: "${INSTANCE_HOST_NAME:localhost}"
---
spring:
    profiles: docker-demo, aws-ci, aws-dev, aws-stage, aws-prod
eureka:
  client:
    enabled: true
    serviceUrl:
      defaultZone: https://${ascent.discovery.username:eureka}:${ascent.discovery.password:default}@${discovery.server.peer1.name:ascent-discovery}:${discovery.server.port:8761}/eureka/,http://${ascent.discovery.username:eureka}:${ascent.discovery.password:default}@${discovery.server.peer2.name:ascent-discovery}:${discovery.server.port:8761}/eureka/
    preferSameZoneEureka: true
  instance:
    nonSecurePortEnabled: false
    securePortEnabled: true
    securePort: 8080
    hostname: "${INSTANCE_HOST_NAME:@project.artifactId@}"
    preferIpAddress: false
    
---

spring:
    profiles: aws-stage, aws-prod
    cloud: 
      config:
        label: master
        
---

## S3 and SQS Configurations for Ascent   
ascent:
  s3:
    bucket: ${AWS_S3_BUCKET_NAME:test-bucket}
    region: ${AWS_REGION:us-east-1}
    target:
      bucket: ${AWS_S3_TARGET_BUCKET_NAME:test-s3-target-bucket}
    dlq:
      bucket: ${AWS_S3_DLQ_BUCKET_NAME:test-s3-dlq-bucket}
  sqs:
    region: ${AWS_SQS_REGION:us-west-2}
    endpoint: ${AWS_SQS_ENDPOINT:https://sqs.us-west-2.amazonaws.com/180197991925/evssstandardqueue}
    dlqendpoint: ${AWS_SQS_DLQ_ENDPOINT:https://sqs.us-west-2.amazonaws.com/180197991925/deadletterqueue}
    dlqRetriesCount: 2
    numberOfMessagesToPrefetch: ${AMAZON_SQS_NUMBER_OF_MESSAGES_TO_PREFETCH:5}
    
cloud.aws.stack.auto: false
cloud.aws.region.static: ${AWS_REGION:us-west-2}